{% extends "blog/base.html" %}
{% set blog_title = "Install PostGIS 2.0 on Debian" %}
{% set blog_date = "5. 9. 2013" %}
{% block blog_content %}
<h3>Install DEB package depences</h3>
<pre>
sudo apt-get install build-essential postgresql-9.1 postgresql-server-dev-9.1 libxml2-dev libproj-dev libjson0-dev xsltproc docbook-xsl docbook-mathml libgdal-dev
</pre>
<h3>Install GEOS</h3>
<pre>
wget http://download.osgeo.org/geos/geos-3.3.8.tar.bz2
tar xvfj geos-3.3.8.tar.bz2
cd geos-3.3.8
./configure
make
sudo make install
cd ..
</pre>

<h3>Install PostGIS</h3>
<pre>
wget http://download.osgeo.org/postgis/source/postgis-2.0.3.tar.gz
tar xfvz postgis-2.0.3.tar.gz
cd postgis-2.0.3

./configure
make
sudo make install
sudo ldconfig
sudo make comments-install

sudo ln -sf /usr/share/postgresql-common/pg_wrapper /usr/local/bin/shp2pgsql
sudo ln -sf /usr/share/postgresql-common/pg_wrapper /usr/local/bin/pgsql2shp
sudo ln -sf /usr/share/postgresql-common/pg_wrapper /usr/local/bin/raster2pgsql
</pre>

<h3>Build PostGIS template</h3>
<pre>
sudo su postgres

createdb template_postgis
createlang plpgsql template_postgis

psql -d template_postgis -c "UPDATE pg_database SET datistemplate=true WHERE datname='template_postgis'"
psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/postgis.sql
psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/spatial_ref_sys.sql
psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/postgis_comments.sql

psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/rtpostgis.sql
psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/raster_comments.sql

psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/topology.sql
psql -d template_postgis -f /usr/share/postgresql/9.1/contrib/postgis-2.0/topology_comments.sql
</pre>

Source <p><a target="blank" href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS20Debian60src?format=txt">http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS20Debian60src?format=txt</a></p>
{% endblock blog_content %}