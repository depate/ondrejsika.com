{% extends "base.html" %}
{% block content %}

<h2>Snippets</h2>

<a href="#encrypt-decrypt-openssl"><h3 id="encrypt-decrypt-openssl">Encrypt &amp; decrypt via OpenSSL</h3></a>
<h4>Encrypt</h4>
<pre>sika@thinkpad:~$ echo 'foo' | openssl aes-256-cbc -a -salt
enter aes-256-cbc encryption password: [passphrase hidden]
Verifying - enter aes-256-cbc encryption password: [passphrase hidden]
U2FsdGVkX1/QGdl4syQE8bLFSr2HzoAlcG299U/T/Xk=
</pre>
<h4>Decrypt</h4>
<pre>sika@thinkpad:~$ echo 'U2FsdGVkX1/QGdl4syQE8bLFSr2HzoAlcG299U/T/Xk=' | openssl aes-256-cbc -a -d -salt
enter aes-256-cbc decryption password: [passphrase hidden]
foo
</pre>
Source <a href="http://projects.skurfer.com/posts/string_encryption/" target="blank">http://projects.skurfer.com/posts/string_encryption/</a>

<a href="#google-geo-api-address-components"><h3 id="google-geo-api-address-components">Get address components from Google Geo API</h3></a>
<h4>Python</h4>
<pre>def get_geolocation(result):
    address = ["", "", "", ""]
    for obj in result["address_components"]:
        if "locality" in obj["types"]:
            address[0] = obj["long_name"]
        if "administrative_area_level_1" in obj["types"]:
            address[1] = obj["long_name"]
        if "country" in obj["types"]:
            address[2] = obj["long_name"]
    return  tuple(address)

import requests
import json

url = "http://maps.googleapis.com/maps/api/geocode/json?latlng=40,-76&sensor=false"
print get_geolocation(json.loads(requests.get(url).text)["results"][0])
url = "http://maps.googleapis.com/maps/api/geocode/json?latlng=50,13&sensor=false"
print get_geolocation(json.loads(requests.get(url).text)["results"][0])
</pre>
<h4>JavaScript</h4>
<p>Requires jQuery</p>
<pre>function get_geolocation(lat, lon, callback){
    url = "http://maps.googleapis.com/maps/api/geocode/json?latlng="+lat+","+lon+"&sensor=false";
    $.getJSON(url, function(json){
        address = ["", "", "", ""];
        json["results"][0]["address_components"].forEach(function(obj){
            if (obj["types"].indexOf("locality") != -1) address[0] = obj["long_name"];
            if (obj["types"].indexOf("administrative_area_level_1") != -1) address[1] = obj["long_name"];
            if (obj["types"].indexOf("country") != -1) address[2] = obj["long_name"];
        })
        callback(address);
    });
}
</pre>

<a href="#redmine-gmail-config"><h3 id="redmine-gmail-config">Redmine gmail config</h3></a>
To file <code>config/configuration.yml</code> append this.
<pre>production:
    delivery_method: :smtp
    smtp_settings:
       address: smtp.gmail.com
       port: 587
       domain: gmail.com
       authentication: :login
       user_name: "username@gmail.com"
       password: "password"
</pre>
{% endblock content %}