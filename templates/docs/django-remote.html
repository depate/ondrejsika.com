{% extends "docs/base.html" %}

{% set title = "django-remote documentation" %}
{% set github_repo = "django-remote" %}
{% set authors = [
    ["Ondrej Sika", "ondrejsika.com", "dev@ondrejsika.com"],
] %}
{% set sources = [
    ["Documentation", "ondrejsika.com/docs/django-remote"],
    ["Python Package Index", "pypi.python.org/pypi/django-remote"],
    ["GitHub", "github.com/sikaondrej/django-remote"],
] %}

{% block content2 %}
<p>Library for AJAX access to Django from other site (PHP, WordPress, ...)</p>
{% endblock content2 %}


{% block content3 %}
<h3>Instalation</h3>
Instalation is very simple over pip.
<pre># pip install django-remote</pre>

<h3>settins.py</h3>
<pre>
# add app to installed apps
INSTALLED_APPS += ("remote_ajax", )

# XHR allowed domains
ACCESS_CONTROL_ALLOW_ORIGIN = ("http://localhost", "http://my-wordpress-site.com")

# global allow XHR (not requed, you may use remote_ajax.http.HttpResponseAjax)
MIDDLEWARE_CLASSES += ("remote_ajax.middleware.XHRMiddleware", ) 
</pre>

<h3>HttpResponseAjax</h3>
your views.py
<h4>views.py</h4>
<pre>
from django.http import HttpResponse
from remote_ajax.http import HttpResponseAjax

def your_view(request):
    return HttpResponseAjax(HttpResponse("your response"))
</pre>

<h3>JavaScript functions</h3>
<h4>django_remote_ajax.get</h4>
GET request
<pre>django_remote_ajax.get(url, succes_function, data);</pre>
<h4>django_remote_ajax.post</h4>
POST request
<pre>django_remote_ajax.post(url, succes_function, data);</pre>

<h3>Usage JavaScript</h3>
<!--
<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="http://localhost:8000/static/static/remote_ajax/main.js"></script>
<script type="text/javascript">
django_remote_ajax.get('http://localhost:8000/', function(data){$("#remote").html(data);})
</script>
<div id="remote"></div>
-->
<pre>
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;&lt;/title&gt;
  &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="http://localhost:8000/static/static/remote_ajax/main.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
  django_remote_ajax.get('http://localhost:8000/', function(data){$("#remote").html(data);})
  &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="remote"&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
{% endblock content3 %}