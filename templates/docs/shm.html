{% extends "docs/base.html" %}

{% set title = "shm (sika hosting manager) documentation" %}
{% set authors = [
    ["Ondrej Sika", "ondrejsika.com", "dev@ondrejsika.com"],
] %}
{% set sources = [
    ["Documentation", "ondrejsika.com/docs/shm"],
    ["Bitbucket", "bitbucket.org/sikaondrej/shm"],
] %}

{% block content2 %}
<p>Tool for managing PHP hosting on Apache2 and MySQL</p>
{% endblock content2 %}


{% block content3 %}
<h3>Installation</h3>
Clone GIT repository to /opt/shm
<pre># git clone git@bitbucket.org:sikaondrej/shm.git /opt/shm</pre>
add shm/bin to path
<pre># echo "PATH=$PATH:/opt/shm/bin" > ~/.bashrc</pre>
create config files
<h4>/etc/shm/db</h4>
<pre>
MYSQL_USER="root"
MYSQL_PASSWD="mypasswd"
</pre>
<h4>/etc/shm/php</h4>
<pre>
WWW="/var/www/"  # php hosting storage
APACHE2_SITE="/etc/apache2/sites-available/"  # apache virtualhost conf
</pre>
and restart bash
<pre>
$ bash
</pre>

<h3>Usage</h3>
<h4>Create PHP hosting</h4>
<pre>$ sudo shm-php-create [domain] [[passwd]]</pre>
Create dir structure,  user &amp; apache2 conf for hosting and activate it.

<h4>Create MySQL user</h4>
<pre>$ sudo shm-mysql-create [domain] [[passwd]]</pre>
Create user from domain name and grant privileges for database start "$username_".
{% endblock content3 %}