{% extends "docs/base.html" %}

{% set title = "mongo-server documentation" %}
{% set authors = [
    ["Ondrej Sika", "ondrejsika.com", "dev@ondrejsika.com"],
] %}
{% set sources = [
    ["Documentation", "ondrejsika.com/docs/mongo-server"],
    ["Python Package Index", "pypi.python.org/pypi/mongo-server"],
    ["GitHub", "github.com/sikaondrej/mongo-server"],
] %}

{% block content2 %}
HTTP server for MongoDB
{% endblock content2 %}


{% block content3 %}
<h3>Instalation</h3>
Instalation is very simple over pip.
<pre># pip install mongo-server</pre>

<h3>Create mongo server</h3>
file wsgi.py
<pre>
from mongo_server import MongoServer

application = MongoServer(database="database", table="data", server=None, port=None)
if __name__ == "__main__":
    application.run()
</pre>

<h3>Run server</h3>
<pre>
$ python wsgi.py
* Running on http://127.0.0.1:5000/
</pre>
or
<pre>
$ gunicorn wsgi:application
</pre>

<h3>Usage</h3>
<h4>Insert data</h4>
Inser to default table
<pre>
HTTP GET http://localhost:5000/insert/?a=1&b=2
</pre>
insert to other table
<pre>
HTTP GET http://localhost:5000/insert/my_table/?a=1&b=2
</pre>

<h4>Get data</h4>
Find in default table
<pre>
HTTP GET http://localhost:5000/find/?a=1
[{ u'a': [u'1'], u'b': [u'2'], u'_id': ObjectId('5153178a0fa47060817b9320')}]
</pre>
Find in other table
<pre>
HTTP GET http://localhost:5000/find/my_table/?a=1
[{ u'a': [u'1'], u'b': [u'2'], u'_id': ObjectId('5153178a0fa47060817b9320')}]
</pre>

{% endblock content3 %}